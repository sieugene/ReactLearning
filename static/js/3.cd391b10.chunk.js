(this.webpackJsonpReactLearning=this.webpackJsonpReactLearning||[]).push([[3],{288:function(e,n,r){e.exports={mainBlock:"Users_mainBlock__3pn1t",userMain:"Users_userMain__2GGPe",userImg:"Users_userImg__33hat",sendMessage:"Users_sendMessage__2k_PY",userImgBlock:"Users_userImgBlock__3HstL",userInfoBlock:"Users_userInfoBlock__32INn"}},289:function(e,n,r){e.exports={currentPage:"Paginator_currentPage__3O-dN",pagination:"Paginator_pagination__3cC4M",changePortion:"Paginator_changePortion__3anz5"}},290:function(e,n,r){"use strict";r.r(n);var t=r(37),a=r(38),o=r(42),s=r(39),l=r(43),u=r(11),i=r(51),c=r(0),g=r.n(c),h=r(288),f=r.n(h),p=r(289),m=r.n(p),k=function(e){for(var n=e.totalUsers/e.pageSize,r=[],t=1;t<=Math.ceil(n);t++)r.push(t);var a=Object(c.useState)(1),o=Object(i.a)(a,2),s=o[0],l=o[1],u=Math.ceil(n/e.portionSize),h=(s-1)*e.portionSize+1,f=s*e.portionSize;return g.a.createElement("div",{className:m.a.pagination},s>=2&&g.a.createElement("button",{onClick:function(){l(s-1)},className:m.a.changePortion}," ","<"," "),r.filter((function(e){return e>=h&&e<=f})).map((function(n){return g.a.createElement("span",{className:e.currentPage===n?m.a.currentPage:"",onClick:function(r){e.onPageCurrentChange(n)},key:n}," ",n," ")})),u>s&&g.a.createElement("button",{onClick:function(){l(s+1)},className:m.a.changePortion},">"))},P=r(12),d=r(41),w=r.n(d),U=function(e){var n=e.user,r=e.unFollowUserThunk,t=e.followUserThunk,a=e.followingInProgress;return g.a.createElement("div",{key:n.id,className:f.a.userMain},g.a.createElement("div",{className:f.a.userImgBlock},g.a.createElement(P.b,{to:"profile/"+n.id},g.a.createElement("img",{className:f.a.userImg,src:null!=n.photos.small?n.photos.small:w.a,alt:""}))),g.a.createElement("div",{className:f.a.userInfoBlock},g.a.createElement("h4",null,"Name : ",n.name),g.a.createElement("h5",null,"Status : ",n.status),n.followed?g.a.createElement("button",{disabled:a.some((function(e){return e===n.id})),onClick:function(){r(n.id)}},"UnFollow"):g.a.createElement("button",{disabled:a.some((function(e){return e===n.id})),onClick:function(){t(n.id)}},"Follow"),g.a.createElement("div",null,g.a.createElement("button",{className:f.a.sendMessage},g.a.createElement(P.b,{to:"/Dialogs/messages/"+n.id},"Send message")))))},v=r(124),E=r(125),b=function(e){return g.a.createElement("form",{onSubmit:e.handleSubmit},g.a.createElement("div",null,g.a.createElement(v.a,{placeholder:"Search users",name:"searchForm",component:"input"})))},T=Object(E.a)({form:"search"})(b),S=g.a.memo((function(e){var n=e.UsersList,r=n.filter((function(e){return!0===e.followed})),t=Object(c.useState)(!1),a=Object(i.a)(t,2),o=a[0],s=a[1];return g.a.createElement("div",{className:f.a.mainBlock},g.a.createElement("div",null,g.a.createElement(T,{onChange:function(n){e.onSearchChange(n.searchForm)}}),g.a.createElement("h3",{onClick:function(){s(!o)}},"Parameters: ",g.a.createElement("button",null,o?"Hide Follow":"Show Follow")),g.a.createElement(k,{totalUsers:e.totalUsers,pageSize:e.pageSize,currentPage:e.currentPage,onPageCurrentChange:e.onPageCurrentChange,portionSize:10})),o?0===r.length?"No subs":r.map((function(n){return g.a.createElement(U,{user:n,unFollowUserThunk:e.unFollowUserThunk,followUserThunk:e.followUserThunk,followingInProgress:e.followingInProgress,key:n.id})})):e.UsersList.map((function(n){return g.a.createElement(U,{user:n,unFollowUserThunk:e.unFollowUserThunk,followUserThunk:e.followUserThunk,followingInProgress:e.followingInProgress,key:n.id})})))})),_=r(123),C=r(30),y=r(6);function F(e,n){return e===n}function I(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,a=0;a<t;a++)if(!e(n[a],r[a]))return!1;return!0}function z(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var N=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),a=0;a<n;a++)t[a]=arguments[a];var o=0,s=t.pop(),l=z(t),u=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(r)),i=e((function(){for(var e=[],n=l.length,r=0;r<n;r++)e.push(l[r].apply(null,arguments));return u.apply(null,e)}));return i.resultFunc=s,i.dependencies=l,i.recomputations=function(){return o},i.resetRecomputations=function(){return o=0},i}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,r=null,t=null;return function(){return I(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var j=function(e){return e.userPage.UsersList},O=(N(j,(function(e){return e.filter((function(e){return!0}))})),function(e){return e.userPage.pageSize}),M=function(e){return e.userPage.totalUsers},B=function(e){return e.userPage.currentPage},L=function(e){return e.userPage.searchTerm},x=function(e){return e.userPage.isFetching},A=function(e){return e.userPage.followingInProgress},R=function(e){function n(){var e,r;Object(t.a)(this,n);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(r=Object(o.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(l)))).onPageCurrentChange=function(e){r.props.setCurrentPageThunk(r.props.pageSize,e)},r.onSearchChange=function(e){r.props.setSearchTermTextThunk(r.props.pageSize,e)},r}return Object(l.a)(n,e),Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,this.props.isFetching?g.a.createElement(C.a,null):null,g.a.createElement(S,{totalUsers:this.props.totalUsers,pageSize:this.props.pageSize,searchTerm:this.props.searchTerm,onSearchChange:this.onSearchChange,currentPage:this.props.currentPage,onPageCurrentChange:this.onPageCurrentChange,UsersList:this.props.UsersList,followingInProgress:this.props.followingInProgress,unFollowUserThunk:this.props.unFollowUserThunk,followUserThunk:this.props.followUserThunk}))}}]),n}(g.a.Component);n.default=Object(y.d)(Object(u.b)((function(e){return{UsersList:j(e),pageSize:O(e),totalUsers:M(e),currentPage:B(e),searchTerm:L(e),isFetching:x(e),followingInProgress:A(e)}}),{follow:_.b,unFollow:_.h,toggleFollowingInProgress:_.g,getUsersThunk:_.d,setCurrentPageThunk:_.e,setSearchTermTextThunk:_.f,unFollowUserThunk:_.i,followUserThunk:_.c}))(R)}}]);
//# sourceMappingURL=3.cd391b10.chunk.js.map